<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kaydedilenler â€” Nara MÃ¼zik</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark mainnav" id="mainNavbar">
    <div class="container-fluid">
      <a class="navbar-brand" href="../index.html">Nara MÃ¼zik</a>
      <div class="ms-auto d-flex align-items-center gap-2" id="authButtons"></div>
    </div>
  </nav>
  <main class="container mt-4">
    <h5 class="mb-3">ðŸ”– Kaydedilen GÃ¶nderilerim</h5>
    <div class="row g-3" id="savedPosts"></div>
  </main>
  <select id="language-toggle">
    <option value="en">EN</option>
    <option value="tr">TR</option>
  </select>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/app.js"></script>
  <script>
    (async ()=>{
      const isLocal = location.hostname.includes('localhost');
      const BACKEND_BASE = isLocal ? 'http://localhost:4000' : 'https://naramusic.onrender.com';
      const token = localStorage.getItem('token');
      const user = JSON.parse(localStorage.getItem('user')||'null');
      if (!user){ alert('GiriÅŸ yapÄ±n.'); location.href = '../index.html'; return; }
      try{
        const r = await fetch(`${BACKEND_BASE}/api/users/me/bookmarks`, { headers:{ 'Authorization': `Bearer ${token}` }});
        const items = await r.json();
        const el = document.getElementById('savedPosts');
        if (!Array.isArray(items) || !items.length){ el.innerHTML = '<div class="text-muted">KaydedilmiÅŸ gÃ¶nderiniz yok.</div>'; return; }
        el.innerHTML = items.map(p=>`
          <div class="col-md-6">
            <div class="card h-100 shadow-sm" data-post-id="${p.id}">
              <div class="card-body">
                ${p.mediaUrl?`<img src="${p.mediaUrl}" class="post-thumb mb-2">`:''}
                <h5 class="card-title">${p.title}</h5>
                <div class="mb-2"><span class="badge bg-secondary">${p.category||''}</span></div>
                <p class="card-text">${(p.content||'').substring(0,150)}...</p>
                <button class="btn btn-sm btn-outline-light bookmark-btn" data-id="${p.id}">ðŸ”– Kaydetmeyi KaldÄ±r</button>
              </div>
            </div>
          </div>
        `).join('');
      }catch(err){ console.error(err); }
    })();
  </script>
</body>
</html>

<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Submit â€” Nara MÃ¼zik</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../css/style.css">
  <style>
    :root{ --bg:#0b0b0b; --text:#eaeaea; --border: rgba(255,255,255,0.06); }
    :root[data-theme="light"]{ --bg:#f8fafc; --text:#0f172a; --border: rgba(15,23,42,0.08); }
    body{ background:var(--bg); color:var(--text); padding-top:72px; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; }
    .mainnav{ position:fixed; top:0; left:0; right:0; border-bottom:1px solid var(--border); background:transparent; }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark mainnav" id="mainNavbar">
    <div class="container-fluid">
      <a class="navbar-brand" href="../index.html">Nara MÃ¼zik</a>
    </div>
  </nav>

  <main class="container mt-4">
    <div class="card p-4">
      <h5 class="mb-2">Submit</h5>
      <p class="text-muted mb-0">YakÄ±nda burada yeni iÃ§erik gÃ¶nderimiyle ilgili yÃ¶nergeler olacak.</p>
    </div>
  </main>
  <select id="language-toggle">
    <option value="en">EN</option>
    <option value="tr">TR</option>
  </select>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


